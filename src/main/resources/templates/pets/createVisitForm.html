<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Visit</title>
    <th:block th:include="fragments/header::head"></th:block>

</head>

<body>

<th:block th:include="fragments/navbar::navbar"></th:block>
<main>
    <br/>
    <h3>New Visit</h3>
    <br/>

    <table class="table table-striped">
        <thead class="thead-dark">
        <tr>
        <tr>
            <th>Name</th>
            <th>Birthday</th>
            <th>Type</th>
            <th>Owner</th>
        </tr>
        </thead>

        <tr>
            <td><p th:text="${visit.pet.name}"></p></td>
            <td><p th:text="${visit.pet.birthDate}"></p></td>
            <td><p th:text="${visit.pet.petType.description}"></p></td>
            <td><p th:text="${visit.pet.owner.firstName + ' ' + visit.pet.owner.lastName}"></p></td>
        </tr>
        </tbody>
    </table>

    <br/>

    <form th:object="${visit}" id="add-owner-form" method="post">

        <div class="form-group row">
            <label for="date" class="col-sm-2 col-form-label">Date</label>
            <div class="col-sm-10">
                <input type="date" class="form-control" id="date" th:field="*{date}"
                       placeholder="YYYY-MM-DD" title="Enter a date in this format: YYYY-MM-DD"
                       pattern="(?:19|20)[0-9]{2}-(?:(?:0[1-9]|1[0-2])-(?:0[1-9]|1[0-9]|2[0-9])|(?:(?!02)(?:0[1-9]|1[0-2])-(?:30))|(?:(?:0[13578]|1[02])-31))">
            </div>
        </div>

        <div class="form-group row">
            <label for="descr" class="col-sm-2 col-form-label">Description</label>
            <div class="col-sm-10">
                <input type="text" class="form-control" id="descr" th:field="*{description}">
            </div>
        </div>
        <div class="form-group row">
            <div class="col-sm-10">
                <button type="submit" class="btn btn-dark  spring-btn">Add Visit</button>
            </div>
        </div>

    </form>

    <br />
    <b>Previous Visits</b>
    <table class="table table-striped">
        <tr>
            <th>Date</th>
            <th>Description</th>
        </tr>
        <tr th:each="visit : ${pet.visits}">
            <td th:text="${#temporals.format(visit.date, 'yyyy-MM-dd')}" /></td>
            <td th:text=" ${visit.description}" /></td>
        </tr>
    </table>

    <img class="img-spring" src="../static/resources/images/spring-pivotal-logo.png"
         th:src="@{/resources/images/spring-pivotal-logo.png}"/>

</main>

</body>
</html>